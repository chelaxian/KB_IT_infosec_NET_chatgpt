Чтобы использовать **Nginx Proxy Manager** только как веб-интерфейс и примапить вашу существующую конфигурацию Nginx вместо создания нового экземпляра Nginx внутри Docker, потребуется модифицировать `docker-compose.yml` и конфигурацию проекта. Вот как это сделать:

---

### Шаг 1: Удалить встроенный Nginx
Nginx Proxy Manager (NPM) использует встроенный Nginx. Чтобы отключить управление внутренним Nginx, нужно изменить стандартные монтируемые директории так, чтобы они ссылались на вашу собственную конфигурацию Nginx.

---

### Шаг 2: Изменить `docker-compose.yml`

Обновите `docker-compose.yml`, чтобы удалить контроль над внутренним Nginx и примонтировать директории вашего локального Nginx. Вот обновленный пример:

```yaml
version: '3'
services:
  app:
    image: 'docker.io/jc21/nginx-proxy-manager:latest'
    restart: unless-stopped
    ports:
      - '80:80'      # HTTP
      - '81:81'      # Веб-интерфейс Nginx Proxy Manager
      - '443:443'    # HTTPS
    environment:
      DISABLE_IPV6: 'true' # Отключение IPv6, если не нужно
    volumes:
      - ./data:/data                   # Хранение данных NPM
      - ./letsencrypt:/etc/letsencrypt # Сертификаты
      - /etc/nginx:/etc/nginx          # Ваши локальные конфиги Nginx
```

---

### Шаг 3: Настроить локальную конфигурацию Nginx
1. Убедитесь, что ваш **Nginx** установлен и правильно настроен локально:
   - Основные конфиги Nginx находятся в `/etc/nginx`.
   - Проверьте наличие файла `nginx.conf`.

2. Убедитесь, что ваш Nginx:
   - Работает на вашем сервере.
   - Управляется через конфигурации, которые вы примонтировали (например, `/etc/nginx`).

---

### Шаг 4: Изменить права доступа
Nginx Proxy Manager должен иметь доступ к вашим конфигурационным файлам. Убедитесь, что у Docker-контейнера есть права на доступ к директориям `/etc/nginx`.

Используйте команду:
```bash
sudo chown -R $USER:$USER /etc/nginx
```

---

### Шаг 5: Перезапустить Docker Compose
После изменений перезапустите контейнер:
```bash
docker-compose down
docker-compose up -d
```

---

### Шаг 6: Проверить доступность веб-интерфейса
1. Откройте веб-интерфейс: [http://127.0.0.1:81](http://127.0.0.1:81).
2. Убедитесь, что изменения применились и веб-интерфейс доступен.

---

### Шаг 7: Убедиться в работе
Теперь **Nginx Proxy Manager** будет использовать вашу локальную конфигурацию Nginx. Вы сможете управлять виртуальными хостами через веб-интерфейс NPM, который теперь ссылается на вашу папку `/etc/nginx`.

---

Если у вас есть дополнительные вопросы по настройке или вы столкнулись с проблемами, напишите!
