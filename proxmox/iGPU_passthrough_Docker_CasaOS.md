–û—Ç–ª–∏—á–Ω–æ! –¢—ã —É–ø—Ä–∞–≤–ª—è–µ—à—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º Jellyfin —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å CasaOS, –∞ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω—É–∂–Ω–æ –≤–Ω–µ—Å—Ç–∏ —á–µ—Ä–µ–∑ UI, **–±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CLI**. –î–∞–≤–∞–π –ø–æ—à–∞–≥–æ–≤–æ –Ω–∞—Å—Ç—Ä–æ–∏–º iGPU passthrough –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Jellyfin **—á–µ—Ä–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å CasaOS**.

---

### üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö CasaOS

#### ‚úÖ –®–∞–≥ 1: –ü—Ä–æ–±—Ä–æ—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ iGPU

- –ù–∞–π–¥–∏ –±–ª–æ–∫ **"–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"** (–≤–Ω–∏–∑—É –Ω–∞ –≤—Ç–æ—Ä–æ–º —Å–∫—Ä–∏–Ω–µ).
- –ù–∞–∂–º–∏ `+ –î–æ–±–∞–≤–∏—Ç—å`.
- –í –ø–æ–ª–µ —É–∫–∞–∂–∏:
  ```
  /dev/dri/renderD128
  ```
- –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—ã –¥–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å —Å—Ç—Ä–æ–∫—É —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º `/dev/dri/renderD128`.

> üí° **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ**: –µ—Å–ª–∏ –±—É–¥–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è ‚Äî –¥–æ–±–∞–≤—å –∏ `/dev/dri/card0`

---

#### ‚úÖ –®–∞–≥ 2: –°–¥–µ–ª–∞–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º

- –í —Ç–æ–º –∂–µ –±–ª–æ–∫–µ –Ω–∏–∂–µ –µ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å **"–ü—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π"** ‚Äî –≤–∫–ª—é—á–∏ –µ–≥–æ (–ø–µ—Ä–µ–≤–µ–¥–∏ –≤ –∞–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ).
- –≠—Ç–æ –¥–∞—Å—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –∏ —É—Å—Ç—Ä–∞–Ω–∏—Ç —á–∞—Å—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ GPU.

---

#### ‚úÖ –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è)

**–ï—Å–ª–∏ –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π `vainfo` –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –ø–∞–¥–∞—Ç—å —Å `va_openDriver() = -1`**, –¥–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:

- –ù–∞–∂–º–∏ `+ –î–æ–±–∞–≤–∏—Ç—å` –≤ —Ä–∞–∑–¥–µ–ª–µ **"–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è"**
- –ö–ª—é—á:
  ```
  LIBVA_DRIVER_NAME
  ```
- –ó–Ω–∞—á–µ–Ω–∏–µ:
  ```
  radeonsi
  ```

---

#### ‚úÖ –®–∞–≥ 4: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

- –ù–∞–∂–º–∏ **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å** –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
- CasaOS –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Å—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–º–æ–∂–µ—Ç —Å–ø—Ä–æ—Å–∏—Ç—å, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–ª–∏ –Ω–µ—Ç —Ç–µ–∫—É—â–∏–µ —Ç–æ–º–∞ ‚Äî —Å–æ–≥–ª–∞—Å–∏—Å—å).
- –ü—Ä–æ–≤–µ—Ä—å —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Jellyfin ‚Üí `Playback` ‚Üí `Hardware Acceleration`, —á—Ç–æ VAAPI –¥–æ—Å—Ç—É–ø–Ω–∞ –∏ –≤–∫–ª—é—á–µ–Ω–∞.

---

### üìã –ü—Ä–æ–≤–µ—Ä—å –≤ —Å–∞–º–æ–º Jellyfin

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

1. –ü–µ—Ä–µ–π–¥–∏ –≤ Web UI Jellyfin: `http://casaos.local:8096`
2. –í–æ–π–¥–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. –û—Ç–∫—Ä–æ–π: **Playback ‚Üí Hardware Acceleration**
4. –í–∫–ª—é—á–∏:
   - [x] **Hardware acceleration**
   - [x] VAAPI
   - –£–∫–∞–∂–∏ –ø—É—Ç—å –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É:
     ```
     /dev/dri/renderD128
     ```
5. –°–æ—Ö—Ä–∞–Ω–∏ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Jellyfin (–º–æ–∂–Ω–æ –ø—Ä—è–º–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ).

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ª—é–±–æ–≥–æ –≤–∏–¥–µ–æ:
- –ó–∞–π–¥–∏ –≤ **Dashboard ‚Üí Activity ‚Üí Playback**, –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ **—Ç—Ä–∞–Ω—Å–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ**.
- –¢–∞–∫–∂–µ –≤ `Logs` –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –∑–∞–ø–∏—Å–∏ –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ VAAPI (–Ω–∞–ø—Ä–∏–º–µ—Ä: `VAAPI: Using device /dev/dri/renderD128`).

---

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è ‚Äî –¥–∞–π –∑–Ω–∞—Ç—å, –º—ã –Ω–∞—Å—Ç—Ä–æ–∏–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ docker-compose –¥–ª—è –ø–æ–ª–Ω–æ–π –≥–∏–±–∫–æ—Å—Ç–∏).
